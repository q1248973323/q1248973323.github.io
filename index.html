<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>括弧笑</title>
		<link rel="stylesheet" href="style.css">
		<style type="text/css">
			html,
			body {
				overflow: hidden;
				height: 100%;
			}
		</style>
	</head>

	<body>
		<div class="face">
			<div class="eyes">
				<div class="eye"></div>
				<div class="eye"></div>
			</div>
		</div>
		<script>
			document.querySelector('body').addEventListener('touchstart', eyeball);
			document.querySelector('body').addEventListener('touchmove', function(e) {
				var eye = document.querySelectorAll('.eye');
				e.preventDefault();
				eye.forEach(function(eye) {
					let x = (eye.getBoundingClientRect().left) + (eye.clientWidth / 2);
					let y = (eye.getBoundingClientRect().top) + (eye.clientHeight / 2);
					let radian = Math.atan2(event.pageX - x, event.pageY - y);
					let rot = (radian * (180 / Math.PI) * -1) + 270;
					eye.style.transform = "rotate(" + rot + "deg)";


				})
			});
			document.querySelector('body').addEventListener('touchend', eyeball);

			function eyeball() {
				var eye = document.querySelectorAll('.eye');
				eye.forEach(function(eye) {
					let x = (eye.getBoundingClientRect().left) + (eye.clientWidth / 2);
					let y = (eye.getBoundingClientRect().top) + (eye.clientHeight / 2);
					let radian = Math.atan2(event.pageX - x, event.pageY - y);
					let rot = (radian * (180 / Math.PI) * -1) + 270;
					eye.style.transform = "rotate(" + rot + "deg)";

				})
			}
		</script>
	</body>

</html>
